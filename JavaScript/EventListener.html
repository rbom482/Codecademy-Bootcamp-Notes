<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Listener</title>
  <style>
    div {
      padding: 1em;
      margin: 1em;
    }

    #grandparent {
      background-color: cadetblue;
    }

    #parent {
      background-color: aquamarine;
    }

    #child {
      background-color: azure;
    }
  </style>
</head>
<body>
  <!-- <input type="range" min="0" max="240" id="range-input" style="position: fixed; top: 0;"> -->

  <!-- <input type="text" id="test-input" autocomplete="off"> -->

  <div id="grandparent">
    GRANDPARENT
    <div id="parent">
      PARENT
      <div id="child">
        CHILD
      </div>
    </div>
  </div>

  <script>
    /*
      # Event Listeners:
        - Create a logic which executes whenever a specific event has occured
        - Using .addEventListener() method
        - Syntax:
          element.addEventListener('event', function(event) {
            // Logic to be executed when the event is fired
          })
          - Callback paramer: 'event' object
            - .type: Name of the event
            - .target: The element/node where the event occured
            - .target.value: Access value of the "input text"
        - Examples:
          - onclick: 'click' event ***
          - ondblclick: 'dblclick' event (Double click)
          - onmouseover: 'mouseover' event (Hover) ***
          - onmouseout: 'mouseout' event (Opposite of Hover)
          - onmousemove: 'mousemove' event (Cursor minute movement)
          - oninput: 'input' event (Any input change within a text field) ***
          - onchange: 'change' event
          - onkeydown: 'keydown' event (Press key downwards) ***
          - onkeyup: 'keyup' event (Key is released upwards)
          - onkeypress: 'keypress' event (Key is pressed for a short moment) [DEPRECATED]
          - onfocus: 'focus' event (Element gets focussed) ***
          - onblur: 'blur' event (Element looses focus) ***
          - onload: 'load' event (HTML document load)
    */

    const inputElement = document.getElementById('test-input')

    // inputElement.addEventListener('click', (event) => {
    //   console.log('test', event)
    // })

    // inputElement.addEventListener('input', (event) => {
    //   console.log('test', event.target.value)
    // })

    // inputElement.addEventListener('mousemove', (event) => {
    //   console.log('test', event.screenX, event.screenY)
    // })

    // inputElement.addEventListener('change', (event) => {
    //   console.log('test', event.target.value)
    // })

    // let speed = 0
    // inputElement.addEventListener('keydown', (event) => {
    //   switch(event.key) {
    //     case 'ArrowUp':
    //       speed += 10
    //       console.log(`ACCELERATING ... ${speed}km/h`)
    //       break;
    //     case 'ArrowDown':
    //       speed -= 10
    //       if(speed >=0)
    //         console.log(`BRAKING ... ${speed}km/h`)
    //       break;
    //     case 'ArrowLeft':
    //       console.log('TURNING LEFT ...')
    //       break;
    //     case 'ArrowRight':
    //       console.log('TURNING RIGHT ...')
    //       break
    //   }
    // })

    // document.addEventListener('scroll', (event) => {
    //   console.log('SCROLLED', window.scrollY)
    //   // document.getElementById('range-input').value = window.scrollY
    // })


    /* --------------------------------------- */
    /*
      # Event Propagation: Process by which events are handled and propagated through the DOM tree (Applicable for nested elements)
        - 2 phases
          - Event capturing: Event is propagated from last ancestor to the child node and so on till the target element
          - Event bubbling ***: Event is propagated from target node to the parent node and so on till the last ancestor element

        - Stop event propagation
          - event.stopPropagation()
    */

    const grandparent = document.getElementById('grandparent')
    const parent = document.getElementById('parent')
    const child = document.getElementById('child')


    // Bubbling Phase
    // grandparent.addEventListener('click', (event) => {
    //   console.log('GRANDPARENT CLICKED')
    // })

    // parent.addEventListener('click', (event) => {
    //   console.log('PARENT CLICKED')
    //   event.stopPropagation()
    // })

    // child.addEventListener('click', (event) => {
    //   console.log('CHILD CLICKED')
    //   event.stopPropagation()
    // })

    // Capturing Phase
    // grandparent.addEventListener('click', (event) => {
    //   console.log('GRANDPARENT CLICKED')
    // }, true)

    // parent.addEventListener('click', (event) => {
    //   console.log('PARENT CLICKED')
    // }, true)

    // child.addEventListener('click', (event) => {
    //   console.log('CHILD CLICKED')
    // }, true)
  </script>
</body>
</html>